

---

## 1️⃣ ما هو التصادم (Collision) بالتفصيل

- في شبكات Ethernet التقليدية (مثل 10BASE-T و 100BASE-TX)، الوسط الناقل مشترك بين الأجهزة (Shared Medium)، أو في حالة Hub
- التصادم يحدث عندما يرسل جهازان إشارة كهربائية في نفس الوقت على نفس الكابل
- **نتيجة التصادم:** إشارات البيانات تتداخل وتفسد، ولا يمكن للجهاز المستقبل قراءتها

### مثال:

- جهاز A يرسل إطار بيانات إلى B في نفس اللحظة التي يرسل فيها جهاز C إطار إلى B → الإشارات تتداخل → جميع البيانات متلفة → يجب إعادة الإرسال

---

## 2️⃣ بروتوكول CSMA/CD (Carrier Sense Multiple Access / Collision Detection)

- **Carrier Sense:** الجهاز يستمع للوسط قبل الإرسال
- **Multiple Access:** عدة أجهزة يمكنها مشاركة نفس الوسط
- **Collision Detection:** إذا حدث تصادم، الجهاز يكتشفه فوراً

### خطوات عمل CSMA/CD:

1. الجهاز يتحقق أن الكابل فارغ → يرسل البيانات
2. إذا تم اكتشاف تصادم، يرسل جهاز A و C إشارة Jam لإبلاغ الجميع
3. كل جهاز يوقف الإرسال ويؤجل إعادة الإرسال لمدة عشوائية (Backoff)
4. بعد انتهاء المدة العشوائية، يحاول الجهاز إعادة الإرسال

هذه الطريقة كانت فعالة لشبكات Hub، لكن في Switch الحديثة غالباً غير مطلوبة.

---

## 3️⃣ الفرق بين Hub و Switch فيما يخص التصادمات

|الخاصية|Hub|Switch|
|---|---|---|
|كل الأجهزة تشترك في البث|نعم|لا (منفذ لكل جهاز)|
|Full Duplex|لا (Half Duplex فقط)|نعم|
|احتمال التصادم|عالي|شبه معدوم|
|بروتوكول التعامل|CSMA/CD|لا حاجة غالباً|

**ملاحظة:** في Switch مع Full Duplex، يمكن لكل منفذ إرسال واستقبال في نفس الوقت → لا وجود لتصادمات.

---

## 4️⃣ حالات التصادم الممكنة في Switch

رغم أن Switch يقلل التصادمات، إلا أن التصادم ممكن في بعض الحالات:

### 1. أجهزة Half Duplex متصلة:

- بعض الأجهزة القديمة لا تدعم Full Duplex، فتحدث التصادمات

### 2. إعدادات خاطئة:

- إذا تم ضبط Port على Half Duplex بينما الجهاز الآخر Full Duplex → Collision و Late Collision تظهر

### 3. شبكات كبيرة مع VLANs خاطئة أو توصيل غير صحيح:

- يمكن أن تحدث تصادمات بسبب Loops أو Broadcast Storm، لكنها تختلف عن Collision التقليدي

---

## 5️⃣ كيف نراقب التصادمات في Cisco Switch

- **استخدام CLI:**

```
show interfaces FastEthernet0/1
```

- **نبحث عن:**
    - **Collisions** → عدد التصادمات
    - **Late Collisions** → تظهر عند إرسال إطار طويل أو وجود مشكلة في الكابل/التوصيل



[[13- Error of SFP، Duplex]]









