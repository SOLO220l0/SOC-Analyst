
# ๐ค **OSPF Neighboring Process**

(ุนูููุฉ ุชูููู ุงูุฌูุฑุงู ูู OSPF)

ุฑุงุญ ุฃุดุฑุญูุง ูู ุจุงูุชูุตูู ูุจุดูู ุนููู ูุซู ูููุฌ **CCNA/CCNP** ุจุญูุซ ุชููููุง ุฎุทูุฉ ุจุฎุทูุฉ ๐ฝ

---

## ๐ฏ ุงููุฏู ูู ุนูููุฉ ุงูุฌูุฑุงู ูู OSPF

ูุจู ุฃู ุชุชุจุงุฏู ุฃุฌูุฒุฉ ุงูุฑุงูุชุฑ **LSAs** ูุชุจูู **ูุงุนุฏุฉ ุจูุงูุงุช LSDB**ุ ูุงุฒู ุฃููุงู ุชุชุนุฑูู ุนูู ุจุนุถูุง ุงูุจุนุถ ุฏุงุฎู ููุณ ุงูู area.  
ูุฐู ุงูุนูููุฉ ุชุณูู:

> **OSPF Neighbor Adjacency Formation Process**

ุจุจุณุงุทุฉ:

- ุงูุฌูุฑุงู (Neighbors) = ุฑุงูุชุฑุงุช OSPF ูุชุตูุฉ ุนูู ููุณ ุงูุดุจูุฉ ุงูููุฒูุงุฆูุฉ.
    
- ุงูุนูุงูุฉ ุจูููู ุชูุฑ ุจุนุฏุฉ ูุฑุงุญู (States).
    
- ุงููุฏู ุงูููุงุฆู ูููุง = **ุงููุตูู ุฅูู ุงูุญุงูุฉ FULL**ุ  
    ุฃู ุฃู ููุง ุงูุฑุงูุชุฑูู ุฃุตุจุญ ุนูุฏููุง **ููุณ LSDB** ุชูุงููุง.
    

---

## ๐ ูุฑุงุญู ุชูููู ุฌูุฑุงู OSPF (Neighbor States)

|ุงููุฑุญูุฉ|ุงูุงุณู|ุงููุตู|
|---|---|---|
|1๏ธโฃ|**Down**|ุงูุฑุงูุชุฑ ูู ูุชูููู ุฃู Hello ูู ุงูุทุฑู ุงูุขุฎุฑ ุจุนุฏ.|
|2๏ธโฃ|**Init**|ุงูุฑุงูุชุฑ ุงุณุชูุจู Hello ูู ุงูุฌุงุฑุ ูููู ูู ููุฑู ุงุณููู ูู ูุงุฆูุฉ ุงูุฌูุฑุงู ุจุนุฏ.|
|3๏ธโฃ|**2-Way**|ููุง ุงูุฑุงูุชุฑูู ุงุณุชูุจูุง Hellos ูู ุจุนุถููุง ูุชุนุฑู ูู ููููุง ุนูู ุงูุขุฎุฑ โ ููุง ุชุชุดูู ุนูุงูุฉ โุฌุงุฑโ (Neighbor).|
|4๏ธโฃ|**ExStart**|ุงูุฑุงูุชุฑุงู ูุจุฏุขู ูู ุชุจุงุฏู ุงูู Database Description Packets (DDPs) ููุญุฏุฏุงู ูู ุณูููู ุงูู Master ูุงูู Slave.|
|5๏ธโฃ|**Exchange**|ุชุจุงุฏู ูุนูู ูููุฎุตุงุช LSDB (ูุญุชูู ุงูุดุจูุงุช ูุงูุฑูุงุจุท).|
|6๏ธโฃ|**Loading**|ุงูุฑุงูุชุฑ ูุฑุณู ุทูุจุงุช (LSR) ูุฃู LSAs ูุงูุตุฉ ุนูุฏู ููุณุชูุจููุง ูู ุงูุฌุงุฑ.|
|7๏ธโฃ|**Full**|ุชูุช ุงููุฒุงููุฉ ุงููุงููุฉ ููู LSDB ุจูู ุงูุฌูุฑุงูุ ูุฃุตุจุญ ูู ููููุง ุนูู ุนูู ุจุฌููุน ุงูุดุจูุงุช โ ุงูุนูุงูุฉ ุฌุงูุฒุฉ ุชูุงููุง.|

---

## ๐น ููุฎุต ุงูุนูููุฉ ุจุดูู ุจุณูุท:

1๏ธโฃ ุงูุฑุงูุชุฑ ูุฑุณู **Hello packets** ุนูู ูู ูุงุฌูุฉ ูููุง OSPF.  
2๏ธโฃ ุฅุฐุง ุงุณุชูุจู Hello ูู ุฌุงุฑ ููู ููุณ ุงููุนูููุงุช (Area ID, timers, subnet, authentication, ุฅูุฎ) โ ูุตูุฑ "Neighbor".  
3๏ธโฃ ุจุนุฏูุง ูุจุฏุฃูู ุชุจุงุฏู **Database Description (DD)**.  
4๏ธโฃ ุจุนุฏูุง ูุทูุจ ูู ุฑุงูุชุฑ ุงูู LSAs ุงููุงูุตุฉ ุนูุฏู ูู ุงูุขุฎุฑ.  
5๏ธโฃ ูู ุงูููุงูุฉ ูุตุจุญุงู ูู ุญุงูุฉ **FULL**.

---

## ๐ฆ ุฑุณุงุฆู OSPF ุงูุฎูุณุฉ (OSPF Packet Types)

|ุฑูู|ุงูููุน|ุงููุธููุฉ|
|---|---|---|
|1|**Hello**|ูุงูุชุดุงู ุงูุฌูุฑุงู ูุงูุญูุงุธ ุนูู ุงูุนูุงูุฉ|
|2|**Database Description (DD)**|ุชุจุงุฏู ูุนูููุงุช ุนู ูุญุชููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช|
|3|**Link State Request (LSR)**|ูุทูุจ LSAs ูุงูุตุฉ|
|4|**Link State Update (LSU)**|ูุฅุฑุณุงู LSAs ุงููุทููุจุฉ|
|5|**Link State Acknowledgment (LSAck)**|ูุชุฃููุฏ ุงุณุชูุงู LSAs|

---

## โ๏ธ ุดุฑูุท ูุฌุงุญ ุนูููุฉ Neighboring (Hello Matching Conditions)

ููู ุชูุฌุญ ุงูุนูุงูุฉ ุจูู ุฑุงูุชุฑูู OSPF ูุชุตู ุฅูู 2-Way ุฃู Fullุ  
ูุฌุจ ุฃู ุชููู ูุฐู ุงูููู **ูุชุทุงุจูุฉ** ุนูู ุงูุฌูุชูู ๐

|ุงูุนูุตุฑ|ูุฌุจ ุฃู ูุชุทุงุจูุ|ููุงุญุธุฉ|
|---|---|---|
|Area ID|โ|ููุณ ุฑูู ุงูููุทูุฉ|
|Subnet Mask|โ|ููุณ ุงูุดุจูุฉ|
|Hello Interval|โ|ููุณ ุงูุฒูู ูุฅุฑุณุงู Hello|
|Dead Interval|โ|ููุณ ูุฏุฉ ุงูุงูุชุธุงุฑ ูุจู ุงุนุชุจุงุฑ ุงูุฌุงุฑ ููุช|
|Authentication|โ|ุฅุฐุง ูุงูุช ููุนูุฉ ูุฌุจ ุฃู ุชููู ููุณ ุงูุจุงุณููุฑุฏ|
|Stub Flag|โ|ููุณ ููุน ุงูู area (ุนุงุฏูุฉ / stub / NSSA)|
|Network Type|โ๏ธ|ูุฌุจ ุฃู ุชููู ูู ููุณ ุงูููุน (broadcast ุฃู point-to-point)|

ุฃู ุงุฎุชูุงู ูู ูุฐู ุงูุฅุนุฏุงุฏุงุช = ูู ุชุตู ุงูุนูุงูุฉ ุฅูู FULL.

---

## ๐ง ูุซุงู ุนููู (ุนูู ุดุจูุฉ Ethernet)

```cisco
R1(config)# router ospf 1
R1(config-router)# network 10.0.0.0 0.0.0.255 area 0

R2(config)# router ospf 1
R2(config-router)# network 10.0.0.0 0.0.0.255 area 0
```

ุจุนุฏ ูุญุธุงุช:

```cisco
R1# show ip ospf neighbor

Neighbor ID     Pri   State      Dead Time   Address     Interface
2.2.2.2           1   FULL/DR    00:00:33    10.0.0.2    Gig0/0
```

ูุนูู ุงูุขู:

- R1 ู R2 ุฃุตุจุญุง ุฌูุฑุงู.
    
- ุงูู State = FULL (ููุชูู).
    
- ุฃุญุฏููุง DR ูุงูุขุฎุฑ BDR (ูู ุงูุดุจูุงุช broadcast).
    

---

## ๐งฉ ุญุงูุงุช ุฎุงุตุฉ ุญุณุจ ููุน ุงูุดุจูุฉ:

|ููุน ุงูุดุจูุฉ|ูู ูููุชุฎุจ DR/BDRุ|ููุน ุงูุนูุงูุฉ|
|---|---|---|
|**Broadcast (Ethernet)**|โ|ููุท ูุน DR ูBDR ุนูุงูุฉ FULL|
|**Point-to-Point**|โ|ุนูุงูุฉ FULL ูุจุงุดุฑุฉ|
|**NBMA (ูุซู Frame-Relay)**|โ (ูุฏูููุง ุฃุญูุงููุง)|ุญุณุจ ุงูุชุตููู|
|**Point-to-Multipoint**|โ|ูู ุฑุงุจุท ูุนุงูู ูู Point-to-Point|

---

## ๐งพ ุฃูุงูุฑ ูููุฉ ูููุฑุงุฌุนุฉ

```cisco
show ip ospf neighbor
```

ูุนุฑุถ ุงูุฌูุฑุงู ูุญุงูุงุชูู (Full, 2-Way, Down, ...)

```cisco
show ip ospf interface
```

ูุนุฑุถ ุฅุนุฏุงุฏุงุช hello/dead timers ูDR/BDR.

```cisco
debug ip ospf adj
```

ูุชุชุจุน ุนูููุฉ ุงูุชุจุงุฏู ุฎุทูุฉ ุจุฎุทูุฉ (ูููุฏ ููุชุฏุฑูุจ ูููุณ ููุฅูุชุงุฌ).

---

## ๐จ ูุดุงูู ุดุงุฆุนุฉ ูู Neighboring:

|ุงูุณุจุจ|ุงูุฃุนุฑุงุถ|ุงูุญู|
|---|---|---|
|Area ID ูุฎุชููุฉ|ูุง ุฌูุฑุงู|ุชุฃูุฏ ูู ุฃู ููุง ุงูุฑุงูุชุฑูู ูู ููุณ ุงูู area|
|Hello/Dead Timers ูุฎุชููุฉ|ุฌูุฑุงู ูุง ุชุตู ุฅูู Full|ุงุถุจุท ุงูููู ููุณูุง|
|Authentication mismatch|ูุง ุฌูุฑุงู|ุชุฃูุฏ ูู ูููุฉ ุงููุฑูุฑ|
|Stub Flag mismatch|ุฌูุฑุงู ุชุจูู ูู INIT|ุงุฌุนู ููุง ุงูุทุฑููู stub ุฃู ุบูุฑ stub|
|Network Type mismatch|ุฌูุฑุงู ูุง ุชุธูุฑ|ุนุฏูู ููุน ุงูุดุจูุฉ ูุฏููุงู ุฅุฐุง ูุฒู|

---

## ๐ ููุฎุต ุณุฑูุน:

|ุงููุฑุญูุฉ|ุงูุบุฑุถ|
|---|---|
|Down|ูุง Hello ูุณุชููุฉ|
|Init|ุงุณุชูุงู Hello|
|2-Way|ุชูุงูู Hello โ ุจุฏุงูุฉ ุงูุฌูุฑุฉ|
|ExStart|ุชุญุฏูุฏ master/slave|
|Exchange|ุชุจุงุฏู DD|
|Loading|ุทูุจ LSAs ุงููุงูุตุฉ|
|Full|ุชุฒุงูู ุชุงู ููู LSDB โ|

---

ูู ุชุฑุบุจ ุฃุดุฑุญ ูู ุงูุขู **ุงูุชุฎุงุจ ุงูู DR / BDR ูู OSPF**ุ  
ูุฃููุง ุชุนุชุจุฑ ุงููุฑุญูุฉ ุงูุชุงููุฉ ูุจุงุดุฑุฉ ุจุนุฏ ุงูู Neighboring Process ูุชููู ุงูุตูุฑุฉ ๐